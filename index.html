<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Controle de Gastos de Viagem</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Formul√°rio Inicial -->
        <form id="formIdentificacao">
            <h1>‚úàÔ∏è Controle de Gastos de Viagem</h1>
            <div class="input-group">
                <label for="nome">Nome do Viajante:</label>
                <input type="text" id="nome" required placeholder="Ex: Jo√£o Silva">
            </div>
            <div class="input-group">
                <label>Per√≠odo da Viagem:</label>
                <div class="date-range">
                    <input type="date" id="dataInicio" required>
                    <span>at√©</span>
                    <input type="date" id="dataFim" required>
                </div>
            </div>
            <div class="input-group">
                <label for="valorDisponivel">Valor Dispon√≠vel (R$):</label>
                <input type="number" id="valorDisponivel" step="0.01" min="0" required>
            </div>
            <button type="submit" class="btn-primary">‚ñ∂Ô∏è Iniciar Registro</button>
        </form>

        <!-- √Årea de Registro de Gastos -->
        <div id="areaFotos" style="display:none;">
            <div class="header-actions">
                <h2>üì∑ Registrar Comprovantes</h2>
                <button id="btnVoltar" class="btn-outline">‚Ü©Ô∏è Voltar</button>
            </div>
            
            <div id="saldoInfo" class="saldo-container"></div>
            
            <div class="upload-controls">
                <div class="input-group">
                    <label for="dataRegistro">Data do Gasto:</label>
                    <input type="date" id="dataRegistro" required>
                </div>
                <div class="input-group">
                    <label for="legenda">Categoria:</label>
                    <select id="legenda">
                        <option value="Caf√©">‚òï Caf√©</option>
                        <option value="Almo√ßo">üç¥ Almo√ßo</option>
                        <option value="Jantar">üåô Jantar</option>
                        <option value="Lavanderia">üß∫ Lavanderia</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="valorGasto">Valor (R$):</label>
                    <input type="number" id="valorGasto" step="0.01" min="0" required>
                </div>
                <div class="input-group">
                    <label for="inputFoto">Foto do comprovante:</label>
                    <input type="file" accept="image/*" capture="environment" id="inputFoto" multiple>
                </div>
                <button id="adicionarFotoBtn" class="btn-secondary">‚ûï Adicionar</button>
            </div>

            <!-- Pr√©-visualiza√ß√£o -->
            <div id="listaFotos" class="photo-grid"></div>

            <!-- Totais -->
            <div class="totais-container">
                <p>Total Caf√©: <span id="totalCafe">R$ 0,00</span></p>
                <p>Total Almo√ßo: <span id="totalAlmoco">R$ 0,00</span></p>
                <p>Total Jantar: <span id="totalJanta">R$ 0,00</span></p>
                <p>Total Lavanderia: <span id="totalLavanderia">R$ 0,00</span></p>
                <p class="total-geral"><strong>Total Geral: <span id="totalGeral">R$ 0,00</span></strong></p>
            </div>

            <!-- Bot√µes de A√ß√£o -->
            <div class="action-buttons">
                <button id="enviarOneDriveBtn" class="btn-primary">‚òÅÔ∏è Enviar para OneDrive</button>
                <div class="export-buttons">
                    <button id="btnExportExcel" class="btn-secondary">Exportar Excel</button>
                    <button id="btnExportPDF" class="btn-secondary">Exportar PDF</button>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
